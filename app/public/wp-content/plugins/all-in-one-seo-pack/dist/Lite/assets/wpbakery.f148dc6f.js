import{a as l,c as E}from"./js/runtime-dom.esm-bundler.dc49ee3e.js";import{c as D,b as R}from"./js/vue-router.53cc8f39.js";import{e as k,l as h}from"./js/index.b24095c1.js";import{l as C}from"./js/index.6dbf4bd7.js";import{k as _,u as f,I as L,aa as M,J as V,m as P,ab as F,$ as T}from"./js/index.e0fdfdc6.js";import{i as U}from"./js/isEqual.657ec1c5.js";import"./js/translations.5e539ab1.js";import{l as j}from"./js/index.d80c2c2c.js";import{S as q}from"./js/Caret.cd869c5d.js";import{Y as x,o as s,c,_ as y,l as u,ae as A,R as n,$ as W,a4 as p,a1 as w,a2 as I,h as N}from"./js/runtime-core.esm-bundler.ce5add0b.js";import{_ as O}from"./js/default-i18n.368c2d5c.js";import{M as z}from"./js/Modal.acb27749.js";import{_ as G}from"./js/ScoreButton.a94ce559.js";import{S as g}from"./js/LogoGear.32164283.js";import"./js/Button.277f0e3d.js";import"./js/_plugin-vue_export-helper.eefbdd86.js";import"./js/Input.94feb999.js";import"./js/Index.2a391835.js";import"./js/Close.ccd53ef3.js";import"./js/Pencil.d82df6a1.js";import"./js/Trash.87a7d946.js";import"./js/Select.2339c1ce.js";import"./js/Toggle.78d1886d.js";import"./js/helpers.b1696305.js";import"./js/_baseIsEqual.bda31e23.js";import"./js/_getTag.e070317d.js";import"./js/App.df4c2262.js";/* empty css                */import"./js/ScrollAndHighlight.65c440ec.js";import"./js/ScrollTo.81bea8a7.js";import"./js/params.af7ed354.js";import"./js/LicenseKeyBar.ef8b714c.js";import"./js/preload-helper.5f06849a.js";import"./js/icon.83af9b04.js";import"./js/constants.cb29e214.js";import"./js/Index.2713d4dd.js";import"./js/SettingsRow.fd3e214f.js";import"./js/Row.bb9acf3f.js";import"./js/Checkbox.e1f30786.js";import"./js/Checkmark.762f711e.js";import"./js/Url.1c574b17.js";import"./js/CreditCounter.25fa377f.js";import"./js/datetime.f197aeae.js";import"./js/Tooltip.23c7170d.js";import"./js/CheckSolid.5be77a11.js";import"./js/Textarea.3c95b4a7.js";import"./js/AiContent.162ae902.js";import"./js/Simple.ad972ba4.js";import"./js/stripHTMLTags.4425dc37.js";import"./js/toNumber.aa196b9c.js";import"./js/_arrayEach.6af5abac.js";import"./js/Plus.c9b03af8.js";import"./js/HighlightToggle.9d6460e7.js";import"./js/Radio.b8474a23.js";import"./js/Tabs.9cad5d60.js";import"./js/ProBadge.e6ec5f9a.js";import"./js/Information.98ebb530.js";import"./js/Slide.3003ef51.js";import"./js/debounce.e3ec254d.js";import"./js/Cta.3f193fd4.js";import"./js/popup.92105c51.js";import"./js/Index.98b153be.js";import"./js/Blur.92695742.js";import"./js/MaxCounts.fd852afa.js";import"./js/Ellipse.79856822.js";import"./js/Eye.489b3324.js";import"./js/TruSeoScore.49fe0f76.js";import"./js/Statistics.48462985.js";import"./js/RadioToggle.18655b2f.js";import"./js/GoogleSearchPreview.bbe31655.js";import"./js/HtmlTagsEditor.dd1ba47c.js";import"./js/Editor.4dffd9f5.js";import"./js/_baseClone.4457226b.js";import"./js/UnfilteredHtml.e9a239ad.js";import"./js/ConnectStore.fa786445.js";import"./js/SetupWizardStore.fef34770.js";import"./js/license.09950db1.js";import"./js/upperFirst.f1673ffa.js";import"./js/Mobile.d702625c.js";import"./js/Settings.c108e03e.js";import"./js/TableOfContentsStore.1d0aec29.js";import"./js/Cta.e1578e01.js";import"./js/GoogleSearchConsole.8d54d4f5.js";import"./js/ConnectCta.1ea6f4fd.js";import"./js/Graph.74d3748e.js";import"./js/numbers.5e9084c0.js";import"./js/vue3-apexcharts.d821ad9d.js";import"./js/WpTable.1cd376b8.js";import"./js/Table.443aaa06.js";import"./js/Download.aa34559d.js";import"./js/RequiredPlans.a441f3ff.js";import"./js/addons.9f9e1bb8.js";import"./js/PostTypes.762fce6d.js";import"./js/External.5f8a6285.js";import"./js/InternalOutbound.5b420e7d.js";import"./js/Image.82108519.js";import"./js/FacebookPreview.1462ecda.js";import"./js/Img.3ed82b4b.js";import"./js/Profile.1de11420.js";import"./js/ImageUploader.32b96a38.js";import"./js/TwitterPreview.f6653f81.js";import"./js/Book.f0bec69d.js";import"./js/Build.acb95bd2.js";import"./js/Index.b4d0090f.js";import"./js/JsonValues.a0694556.js";import"./js/Index.b6404baa.js";import"./js/Exclamation.fc507dc9.js";import"./js/External.641efa63.js";import"./js/escapeRegExp.565287d4.js";import"./js/Gear.0f79dbf5.js";import"./js/date.bb1bcec3.js";import"./js/DatePicker.14dbede9.js";import"./js/Calendar.9a717949.js";import"./js/pick.d8956d6e.js";import"./js/Redirects.590b423d.js";import"./js/Card.a415c187.js";import"./js/Upsell.76588582.js";let b={};const H=()=>{const o={...b},t=M();U(o,t)||(b=t,V())},J=()=>{const o=f();o.isDirty=!1,o.saveCurrentPost(o.currentPost).then(()=>{L().fetch()})},Q=()=>{var e;const{vc:o,vc_mode:t}=window;return t==="admin_frontend_editor"?o.builder.getContent():((e=document.querySelector("#content"))==null?void 0:e.value)||""},d=async()=>{f().processContent({content:Q()}).finally(()=>{H()})},Y=({vc:o})=>{d(),o.events.on("shortcodeView:updated",()=>{_(d,1e3)}),o.shortcodes.on("sync",()=>{_(d,1e3)}),document.querySelectorAll("#vc_button-update, #vc_button-save-draft, #vc_button-save-as-pending").forEach(t=>{t.addEventListener("click",J)})},K={class:"aioseo-limit-modified-date-wpbakery"},X={key:0,class:"aioseo-limit-modified-date-wpbakery__options"},Z={__name:"App",props:{buttonTitle:String,buttonEvent:String},setup(o){const t=x(!1),e=o,a=()=>{t.value=!1,k.emit(e.buttonEvent)};return(r,m)=>(s(),c("div",K,[y("div",{class:"aioseo-limit-modified-date-wpbakery__toggle",onClick:m[0]||(m[0]=l(at=>t.value=!t.value,["prevent"]))},[u(n(q),{class:A({rotated:t.value})},null,8,["class"])]),t.value?(s(),c("div",X,[y("div",{class:"aioseo-limit-modified-date-wpbakery__option",onClick:l(a,["prevent"])},W(e.buttonTitle),1)])):p("",!0)]))}},i={id:"aioseo-limit-modified-date-wpbakery",param:"aioseo_limit_modified_date",event:"save-limit-modified-date",title:O("Update (Don't Modify Date)","all-in-one-seo-pack"),flag:!1},v=()=>document.getElementById("vc_button-update"),tt=()=>{if(document.getElementById(i.id))return;const o=document.createElement("div");o.id=i.id,v().insertAdjacentElement("afterend",o);let t=E({...Z,name:"Standalone/WPBakery/LimitModifiedDate"},{buttonTitle:i.title,buttonEvent:i.event});t=h(t),t=C(t),t=j(t),P(t),t.mount(`#${i.id}`)},ot=o=>{o(document).on("ajaxSend",function(t,e,a){const r=new URLSearchParams(a.data);r.get("action")!=="vc_save"||!i.flag||(r.set(i.param,!0),a.data=r.toString())}),k.on(i.event,()=>{i.flag=!0,v().click(),setTimeout(()=>{i.flag=!1})})},et=({jQuery:o})=>{v()&&(tt(),ot(o))},it={class:"aioseo-wpbakery-integration"},rt={key:2,class:"aioseo-gear-icon"},S={__name:"App",props:{isFrontendEditor:Boolean},setup(o){const t=x(!1),{currentPost:e}=F(f());return(a,r)=>(s(),c("div",it,[o.isFrontendEditor?(s(),w(n(G),{key:0,"show-score":n(T)(),score:n(e).seo_score,class:A([t.value?"aioseo-score-button--active":""]),onClick:r[0]||(r[0]=l(m=>t.value=!t.value,["prevent"]))},{icon:I(()=>[u(n(g))]),_:1},8,["show-score","score","class"])):p("",!0),o.isFrontendEditor?(s(),w(n(z),{key:1,score:n(e).seo_score,"is-open":t.value,"onUpdate:isOpen":r[1]||(r[1]=m=>t.value=m)},null,8,["score","is-open"])):p("",!0),o.isFrontendEditor?p("",!0):(s(),c("div",rt,[u(n(g))]))]))}},{vc:nt}=window,st=()=>{const{vc_mode:o}=window,t=D({history:R(),routes:[{path:"/",component:S}]});let e=E({name:"Standalone/WPBakery",data(){return{tableContext:window.aioseo.currentPost.context,screenContext:"sidebar"}},render:()=>N(S)},{isFrontendEditor:o==="admin_frontend_editor"});e=h(e),e=C(e),e.use(t),t.app=e,P(e,t),e.mount("#aioseo-wpbakery")},B=()=>{st(),Y(window),et(window)};let $=!1;nt.events.on("app.render",()=>{B(),$=!0});window.addEventListener("load",()=>{$||B()});
